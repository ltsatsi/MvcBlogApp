@model MyBlogApplication.ViewModel.UserViewModel

@{
	ViewData["Title"] = "Update";
}

<div class="container mt-5">
    <!-- Page Header -->
    <div class="mb-4">
        <h3 class="fw-semibold mb-1">@ViewData["Title"]</h3>
        <p class="text-muted mb-0">@ViewData["Title"] @Model.Email account information</p>
    </div>

    <!-- Profile Card -->
    <div class="card border-0 shadow-sm">
        <div class="card-body p-4">

            <form asp-action="Edit" method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <input type="hidden" asp-for="UserId" />
                <input type="hidden" asp-for="CreatedOn" />

                @if(ViewBag.UserId == Model.UserId.ToString())
                {
                    <div class="row mb-3">
                        <div class="col-md-4 text-muted small">First name</div>
                        <div class="col-md-8 fw-medium">
                            <input asp-for="FirstName" class="form-control" />
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-4 text-muted small">Last name</div>
                        <div class="col-md-8 fw-medium">
                            <input asp-for="LastName" class="form-control" />
                        </div>
                    </div>
                }
                else
                {
                    <div class="row mb-3">
                        <div class="col-md-4 text-muted small">First name</div>
                        <div class="col-md-8 fw-medium">
                            <input asp-for="FirstName" class="form-control" disabled />
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-4 text-muted small">Last name</div>
                        <div class="col-md-8 fw-medium">
                            <input asp-for="LastName" class="form-control" disabled />
                        </div>
                    </div>
                }

                @if (User.IsInRole("Admin"))
                {
                    <div class="row mb-3">
                        <div class="col-md-4 text-muted small">Role</div>
                        <div class="col-md-8">
                            <input asp-for="RoleName" class="form-control" />
                        </div>
                    </div>
                } else
                {

                    <div class="row mb-3">
                        <div class="col-md-4 text-muted small">Role</div>
                        <div class="col-md-8">
                            <input asp-for="RoleName" class="form-control" disabled />
                        </div>
                    </div>
                }

                @if (ViewBag.UserId == Model.UserId.ToString())
                {
                    <div class="row mb-0">
                        <div class="col-md-4 text-muted small">Email address</div>
                        <div class="col-md-8 fw-medium">
                            <input asp-for="Email" class="form-control" />
                        </div>
                    </div>
                } else
                {
                    <div class="row mb-0">
                        <div class="col-md-4 text-muted small">Email address</div>
                        <div class="col-md-8 fw-medium">
                            <input asp-for="Email" class="form-control" disabled />
                        </div>
                    </div>
                }

                <!-- Footer Actions -->
                <div class="mt-4">
                    @if (User.IsInRole("Adimn"))
                    {
                        <a asp-action="Index" asp-controller="Account" class="btn btn-secondary btn-sm">
                            ← Back to Users
                        </a>
                    }
                    else
                    {
                        <a asp-action="Index" asp-controller="Home" class="btn btn-secondary btn-sm">
                            ← Back to Home
                        </a>
                    }
                    <button type="submit" asp-action="Edit" asp-controller="Account" class="btn btn-outline-primary btn-sm">
                        Save
                    </button>
                </div>

            </form>
        </div>
    </div>

</div>